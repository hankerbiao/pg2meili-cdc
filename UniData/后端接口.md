# 后端接口文档

本文档描述了测试用例管理相关的后端 API 接口。

**Base URL**: `http://10.32.129.188:8080`

**认证方式**: Bearer Token
在请求头中添加 `Authorization: Bearer <your_access_token>`

---

## 1. 创建测试用例 (CreateTestCase)

创建新的测试用例。请求体中必须包含 `id` 字段，其他任意字段将作为 JSONB 数据存储。

### HTTP 请求

`POST /api/v1/testcases`

### 请求参数

| 参数名 | 类型 | 是否必选 | 描述 |
| :--- | :--- | :--- | :--- |
| id | String | 是 | 测试用例唯一标识 |
| (其他字段) | Any | 否 | 任意 JSON 字段（如 name, steps, expected 等） |

### 返回参数

| 参数名 | 类型 | 描述 |
| :--- | :--- | :--- |
| status | String | 请求状态，固定为 "success" |
| id | String | 创建成功的测试用例 ID |

### 示例

**请求示例**

```bash
curl -X POST 'http://10.32.129.188:8080/api/v1/testcases' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer YOUR_ACCESS_TOKEN' \
-d '{
    "id": "case_1001",
    "name": "用户登录测试",
    "priority": "P0",
    "steps": [
        "打开登录页面",
        "输入用户名 admin",
        "输入密码 123456",
        "点击登录按钮"
    ],
    "expected_result": "跳转至首页"
}'
```

**返回示例**

```json
{
    "status": "success",
    "id": "case_1001"
}
```

---

## 2. 更新测试用例 (UpdateTestCase)

更新已存在的测试用例。

### HTTP 请求

`PUT /api/v1/testcases/{id}`

### 请求参数

**Path 参数**

| 参数名 | 类型 | 是否必选 | 描述 |
| :--- | :--- | :--- | :--- |
| id | String | 是 | 测试用例唯一标识 |

**Body 参数**

| 参数名 | 类型 | 是否必选 | 描述 |
| :--- | :--- | :--- | :--- |
| id | String | 是 | 测试用例唯一标识（需与 Path 参数一致） |
| (其他字段) | Any | 否 | 需要更新的 JSON 字段 |

### 返回参数

| 参数名 | 类型 | 描述 |
| :--- | :--- | :--- |
| status | String | 请求状态，固定为 "success" |
| id | String | 更新成功的测试用例 ID |

### 示例

**请求示例**

```bash
curl -X PUT 'http://10.32.129.188:8080/api/v1/testcases/case_1001' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer YOUR_ACCESS_TOKEN' \
-d '{
    "id": "case_1001",
    "priority": "P1",
    "updated_by": "tester_02"
}'
```

**返回示例**

```json
{
    "status": "success",
    "id": "case_1001"
}
```

---

## 3. 删除测试用例 (DeleteTestCase)

软删除指定的测试用例。

### HTTP 请求

`DELETE /api/v1/testcases/{id}`

### 请求参数

**Path 参数**

| 参数名 | 类型 | 是否必选 | 描述 |
| :--- | :--- | :--- | :--- |
| id | String | 是 | 测试用例唯一标识 |

### 返回参数

| 参数名 | 类型 | 描述 |
| :--- | :--- | :--- |
| status | String | 请求状态，固定为 "success" |
| id | String | 删除成功的测试用例 ID |

### 示例

**请求示例**

```bash
curl -X DELETE 'http://10.32.129.188:8080/api/v1/testcases/case_1001' \
-H 'Authorization: Bearer YOUR_ACCESS_TOKEN'
```

**返回示例**

```json
{
    "status": "success",
    "id": "case_1001"
}
```
